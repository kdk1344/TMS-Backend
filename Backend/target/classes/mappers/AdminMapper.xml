<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- user-mapper.xml -->
<mapper namespace="com.tms.backend.mapper.AdminMapper">
    <insert id="insert" parameterType="User">
		INSERT INTO users (USER_ID, USER_NAME, PASSWORD, AUTHORITY_CODE, AUTHORITY_NAME)
		VALUES(#{userID}, #{username}, #{password}, 
		CASE 
            WHEN #{roleName} = 'type1' THEN 1
            WHEN #{roleName} = 'type2' THEN 2
            WHEN #{roleName} = 'type3' THEN 3
            ELSE 0
        END,
        #{roleName})
	</insert>
</mapper>